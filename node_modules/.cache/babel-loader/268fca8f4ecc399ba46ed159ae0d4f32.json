{"ast":null,"code":"import { axiosInstance } from \"../api/axiosConfig\";\nimport { SAVE_FAMILY_DATA_TO_STORE, SAVE_DROPDOWN_LIST_DATA_TO_STORE, ADD_DAUGHTER_MEMBER_LIST, ADD_MEMBER_DATA_TO_MEMBER_LIST } from \"./actionTypes\";\nimport { jsonParseMethod } from \"../utils/commonUtils\";\nimport produce from \"immer\";\nexport const getAllDropDownListData = () => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await axiosInstance({\n        url: \"getFamilyFormDetail\",\n        method: \"post\"\n      });\n\n      if (response.status === 200) {\n        if (response.data.length > 1 && response.data[0]) {\n          // console.log(response);\n          let data = jsonParseMethod(response.data[0][0]); // console.log(data);\n\n          dispatch({\n            type: SAVE_DROPDOWN_LIST_DATA_TO_STORE,\n            payload: {\n              data\n            }\n          });\n        }\n\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n}; // export const saveFamilyDataToStore = data => {\n//   // console.log(\"action\", data);\n//   return dispatch => {\n//     dispatch({\n//       type: SAVE_FAMILY_DATA_TO_STORE,\n//       payload: { data }\n//     });\n//   };\n// };\n\nexport const saveFamilyDataToStore = (type, data) => {\n  // console.log(\"action\", data);\n  return async (dispatch, getState) => {\n    try {\n      const response = await axiosInstance({\n        url: \"saveFamily\",\n        method: \"post\",\n        data: {\n          'family': data\n        }\n      });\n\n      if (response.status === 200) {\n        debugger;\n\n        if (response.data.length > 1 && response.data[0]) {\n          console.log(response);\n          let data = jsonParseMethod(response.data[0][0]);\n          console.log(data);\n          dispatch({\n            type: SAVE_FAMILY_DATA_TO_STORE,\n            payload: {\n              data\n            }\n          });\n        }\n\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n};\nexport const setWholeDataToStoreInitially = tempData => {\n  console.log(\"********************************\", tempData);\n  return async (dispatch, getState) => {\n    let stateData = getState();\n    const nextState = produce(stateData, draftState => {\n      tempData[0].daughterDetail.map(item => draftState.daughter.daughterlist.push(item));\n    });\n    dispatch({\n      type: SAVE_FAMILY_DATA_TO_STORE,\n      payload: {\n        data: tempData[0].family\n      }\n    });\n    dispatch({\n      type: ADD_MEMBER_DATA_TO_MEMBER_LIST,\n      payload: {\n        data: tempData[0].memberList\n      }\n    });\n    dispatch({\n      type: ADD_DAUGHTER_MEMBER_LIST,\n      payload: {\n        data: nextState.daughter.daughterlist\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/ulcom/Desktop/CommunityReact/src/action/familyAction.js"],"names":["axiosInstance","SAVE_FAMILY_DATA_TO_STORE","SAVE_DROPDOWN_LIST_DATA_TO_STORE","ADD_DAUGHTER_MEMBER_LIST","ADD_MEMBER_DATA_TO_MEMBER_LIST","jsonParseMethod","produce","getAllDropDownListData","dispatch","getState","response","url","method","status","data","length","type","payload","error","saveFamilyDataToStore","console","log","setWholeDataToStoreInitially","tempData","stateData","nextState","draftState","daughterDetail","map","item","daughter","daughterlist","push","family","memberList"],"mappings":"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","sourcesContent":["import { axiosInstance } from \"../api/axiosConfig\";\nimport {\n  SAVE_FAMILY_DATA_TO_STORE,\n  SAVE_DROPDOWN_LIST_DATA_TO_STORE,\n  ADD_DAUGHTER_MEMBER_LIST,\n  ADD_MEMBER_DATA_TO_MEMBER_LIST\n} from \"./actionTypes\";\nimport { jsonParseMethod } from \"../utils/commonUtils\";\nimport produce from \"immer\";\n\nexport const getAllDropDownListData = () => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await axiosInstance({\n        url: \"getFamilyFormDetail\",\n        method: \"post\"\n      });\n      if (response.status === 200) {\n        if (response.data.length > 1 && response.data[0]) {\n          // console.log(response);\n          let data = jsonParseMethod(response.data[0][0]);\n          // console.log(data);\n          dispatch({\n            type: SAVE_DROPDOWN_LIST_DATA_TO_STORE,\n            payload: { data }\n          });\n        }\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n};\n\n// export const saveFamilyDataToStore = data => {\n//   // console.log(\"action\", data);\n//   return dispatch => {\n//     dispatch({\n//       type: SAVE_FAMILY_DATA_TO_STORE,\n//       payload: { data }\n//     });\n//   };\n// };\n\nexport const saveFamilyDataToStore = (type, data) => {\n  // console.log(\"action\", data);\n  return async (dispatch, getState) => {\n    try {\n      const response = await axiosInstance({\n        url: \"saveFamily\",\n        method: \"post\",\n        data: { 'family': data }\n      });\n      if (response.status === 200) {\n        debugger;\n        if (response.data.length > 1 && response.data[0]) {\n          console.log(response);\n          let data = jsonParseMethod(response.data[0][0]);\n          console.log(data);\n          dispatch({\n            type: SAVE_FAMILY_DATA_TO_STORE,\n            payload: { data }\n          });\n        }\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n};\n\nexport const setWholeDataToStoreInitially = tempData => {\n  console.log(\"********************************\", tempData);\n  return async (dispatch, getState) => {\n    let stateData = getState();\n    const nextState = produce(stateData, draftState => {\n      tempData[0].daughterDetail.map(item =>\n        draftState.daughter.daughterlist.push(item)\n      );\n    });\n    dispatch({\n      type: SAVE_FAMILY_DATA_TO_STORE,\n      payload: { data: tempData[0].family }\n    });\n    dispatch({\n      type: ADD_MEMBER_DATA_TO_MEMBER_LIST,\n      payload: { data: tempData[0].memberList }\n    });\n    dispatch({\n      type: ADD_DAUGHTER_MEMBER_LIST,\n      payload: { data: nextState.daughter.daughterlist }\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}