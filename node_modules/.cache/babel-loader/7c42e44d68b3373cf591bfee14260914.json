{"ast":null,"code":"import _classCallCheck from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/helpers/esm/inherits\";import _defineProperty from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{Component,Fragment}from\"react\";import{bindActionCreators}from\"redux\";import{connect}from\"react-redux\";import Grid from\"@material-ui/core/Grid\";import{withStyles,Button,Typography,Divider,Paper}from\"@material-ui/core\";import Tooltip from\"@material-ui/core/Tooltip\";import Zoom from\"@material-ui/core/Zoom\";import{addUpdateMemberDataToMemberList,deleteMemberDataToMemberList,saveFamilyMemberData}from\"../action/memberAction\";import IconButton from\"@material-ui/core/IconButton\";import DeleteIcon from\"@material-ui/icons/Delete\";import EditIcon from\"@material-ui/icons/Edit\";import MemberForm from\"./memberForm\";import MemberModel from\"../model/memberModel\";import RenderListComponent from\"../utils/renderListComponent\";import{getFormattedDate}from\"../utils/commonUtils\";import produce from\"immer\";var styles=function styles(theme){var _ref;return _ref={},_defineProperty(_ref,theme.breakpoints.up(\"sm\"),{pdLeft_16:{paddingLeft:theme.spacing(6),paddingRight:theme.spacing(6)}}),_defineProperty(_ref,theme.breakpoints.down(\"sm\"),{pdLeft_16:{paddingLeft:theme.spacing(1),paddingRight:theme.spacing(1)}}),_defineProperty(_ref,\"listViewContainer\",{maxHeight:\"calc(100vh - 64px - 48px - 16px - 16px - 121px - 8px)\",overflowY:\"auto\"}),_defineProperty(_ref,\"paper\",{padding:\"8px\"}),_ref;};var Members=/*#__PURE__*/function(_Component){_inherits(Members,_Component);function Members(props){var _this;_classCallCheck(this,Members);_this=_possibleConstructorReturn(this,_getPrototypeOf(Members).call(this,props));_this.saveFamilyMembersDetail=function(){var memberDetail=_this.props.memberDetail.filter(function(f){return f.firstName!='';});for(var i=0;i<memberDetail.length;i++){if(memberDetail[i].dateOfBirth){memberDetail[i].dateOfBirthF=getFormattedDate(new Date(memberDetail[i].dateOfBirth));}if(memberDetail[i].anniversaryDate){memberDetail[i].anniversaryDateF=getFormattedDate(new Date(memberDetail[i].anniversaryDate));}}debugger;_this.props.saveFamilyMemberData(memberDetail);};_this.removeOrResetMember=function(index){var _this$props=_this.props,parentIndex=_this$props.parentIndex,deleteMemberDataToMemberList=_this$props.deleteMemberDataToMemberList;parentIndex!==undefined?deleteMemberDataToMemberList(parentIndex,index):deleteMemberDataToMemberList(index);};_this.editDeleteMember=function(type,index){console.log(\"formIndex, index\",_this.state.formIndex,index);console.log(_this.props.memberDetail);if(type===\"edit\"){_this.setState({dataObj:_this.props.memberDetail[index],formIndex:index,toggleStatus:!_this.state.toggleStatus});}else{_this.setState({formIndex:index});_this.removeOrResetMember(index);}};_this.toggleMemberModel=function(){_this.setState({toggleStatus:!_this.state.toggleStatus});};_this.state={toggleStatus:false,dataObj:props.memberDetail[0],formIndex:0};return _this;}_createClass(Members,[{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,classes=_this$props2.classes,memberDetail=_this$props2.memberDetail,dropDownListData=_this$props2.dropDownListData,addUpdateMemberDataToMemberList=_this$props2.addUpdateMemberDataToMemberList,deleteMemberDataToMemberList=_this$props2.deleteMemberDataToMemberList,tabHandleChange=_this$props2.tabHandleChange;var _this$state=this.state,toggleStatus=_this$state.toggleStatus,dataObj=_this$state.dataObj,formIndex=_this$state.formIndex;console.log(\"^^^^^^^^^^^^^^^^^\",this.props.memberDetail);return React.createElement(Fragment,null,toggleStatus&&React.createElement(MemberModel,{toggleStatus:toggleStatus,toggleMemberModel:this.toggleMemberModel,dataObj:dataObj,formIndex:formIndex,dropDownListData:dropDownListData,addUpdateMemberDataToMemberList:addUpdateMemberDataToMemberList,memberArrayLength:memberDetail.length}),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:12},React.createElement(Grid,{container:true,justify:\"flex-start\",alignItems:\"center\"},React.createElement(Grid,{item:true,xs:12,className:classes.pdLeft_16},React.createElement(Grid,{container:true,justify:\"space-between\",alignItems:\"flex-end\"},React.createElement(Grid,{item:true},React.createElement(Typography,{align:\"left\",gutterBottom:true,color:\"primary\"},\"Member Detail\")),React.createElement(Grid,{item:true},React.createElement(Tooltip,{TransitionComponent:Zoom,title:\"Add\"},React.createElement(Button,{color:\"primary\"// variant=\"contained\"\n,onClick:function onClick(){return _this2.toggleMemberModel();}},\"Add Members\")))),React.createElement(Divider,null)),React.createElement(Grid,{item:true,xs:12},React.createElement(Grid,{container:true,className:classes.listViewContainer},memberDetail.length>1?memberDetail.map(function(item,index){return index!==0&&React.createElement(Grid,{item:true,xs:12,key:index,className:classes.pdLeft_16},React.createElement(Paper,{className:classes.paper},React.createElement(Grid,{container:true,alignItems:\"center\"},React.createElement(Grid,{item:true,md:10,xs:12},React.createElement(RenderListComponent,{dataObject:item,eventName:dropDownListData.eventList[0].Name})),React.createElement(Grid,{item:true,md:2,xs:12},React.createElement(Grid,{container:true,justify:\"space-evenly\",alignItems:\"center\"},React.createElement(Grid,{item:true},React.createElement(Tooltip,{TransitionComponent:Zoom,title:\"Edit\"},React.createElement(IconButton,{\"aria-label\":\"Delete\",onClick:function onClick(){return _this2.editDeleteMember(\"edit\",index);}},React.createElement(EditIcon,{fontSize:\"small\"})))),React.createElement(Grid,{item:true},React.createElement(Tooltip,{TransitionComponent:Zoom,title:\"Remove\"},React.createElement(IconButton,{\"aria-label\":\"Delete\",onClick:function onClick(){return _this2.editDeleteMember(\"delete\",index);}},React.createElement(DeleteIcon,{fontSize:\"small\"})))))))));}):React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{align:\"center\"},\"No Members Found\")))),React.createElement(Grid,{item:true,xs:12,style:{paddingTop:\"32px\"}},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true,style:{padding:\"8px\"}},React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){return tabHandleChange(null,0);}},\"Go Back\")),React.createElement(Grid,{item:true,style:{padding:\"8px\"}},React.createElement(Button,{variant:\"contained\",color:\"primary\",disabled:memberDetail.length==1,onClick:function onClick(){return _this2.saveFamilyMembersDetail();}},\"Save & Next\"))))))));}}]);return Members;}(Component);var mapStateToProps=function mapStateToProps(state){console.log(state);return{memberDetail:state.member.memberList,dropDownListData:state.dropDownList.dropDownListData?state.dropDownList.dropDownListData:{}};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({addUpdateMemberDataToMemberList:addUpdateMemberDataToMemberList,deleteMemberDataToMemberList:deleteMemberDataToMemberList,saveFamilyMemberData:saveFamilyMemberData},dispatch);};export default withStyles(styles,{withTheme:true})(connect(mapStateToProps,mapDispatchToProps)(Members));","map":{"version":3,"sources":["/home/ulcom/Desktop/CommunityReact1/src/forms/members.js"],"names":["React","Component","Fragment","bindActionCreators","connect","Grid","withStyles","Button","Typography","Divider","Paper","Tooltip","Zoom","addUpdateMemberDataToMemberList","deleteMemberDataToMemberList","saveFamilyMemberData","IconButton","DeleteIcon","EditIcon","MemberForm","MemberModel","RenderListComponent","getFormattedDate","produce","styles","theme","breakpoints","up","pdLeft_16","paddingLeft","spacing","paddingRight","down","maxHeight","overflowY","padding","Members","props","saveFamilyMembersDetail","memberDetail","filter","f","firstName","i","length","dateOfBirth","dateOfBirthF","Date","anniversaryDate","anniversaryDateF","removeOrResetMember","index","parentIndex","undefined","editDeleteMember","type","console","log","state","formIndex","setState","dataObj","toggleStatus","toggleMemberModel","classes","dropDownListData","tabHandleChange","listViewContainer","map","item","paper","eventList","Name","paddingTop","mapStateToProps","member","memberList","dropDownList","mapDispatchToProps","dispatch","withTheme"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {\n  withStyles,\n  Button,\n  Typography,\n  Divider,\n  Paper\n} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport {\n  addUpdateMemberDataToMemberList,\n  deleteMemberDataToMemberList,saveFamilyMemberData\n} from \"../action/memberAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MemberForm from \"./memberForm\";\nimport MemberModel from \"../model/memberModel\";\nimport RenderListComponent from \"../utils/renderListComponent\";\nimport {getFormattedDate} from \"../utils/commonUtils\";\nimport produce from \"immer\";\n\nconst styles = theme => ({\n  [theme.breakpoints.up(\"sm\")]: {\n    pdLeft_16: {\n      paddingLeft: theme.spacing(6),\n      paddingRight: theme.spacing(6)\n    }\n  },\n  [theme.breakpoints.down(\"sm\")]: {\n    pdLeft_16: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1)\n    }\n  },\n  listViewContainer: {\n    maxHeight: `calc(100vh - 64px - 48px - 16px - 16px - 121px - 8px)`,\n    overflowY: \"auto\"\n  },\n  paper: {\n    padding: \"8px\"\n  }\n});\n\nclass Members extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      toggleStatus: false,\n      dataObj: props.memberDetail[0],\n      formIndex: 0\n    };\n  }\n\n   saveFamilyMembersDetail =() => {\n    \n    \n    var  memberDetail = this.props.memberDetail.filter(f=>f.firstName !='');\n    for(var i =0 ; i < memberDetail.length ;i++)\n    {\n      if (memberDetail[i].dateOfBirth) {\n        memberDetail[i].dateOfBirthF = \n        getFormattedDate( new Date(memberDetail[i].dateOfBirth));\n      }\n      if (memberDetail[i].anniversaryDate) {\n          memberDetail[i].anniversaryDateF = \n          getFormattedDate(new Date(memberDetail[i].anniversaryDate));\n      }\n\n    }\n     debugger;\n     this.props.saveFamilyMemberData(memberDetail);\n\n  }\n\n  removeOrResetMember = index => {\n    const { parentIndex, deleteMemberDataToMemberList } = this.props;\n    parentIndex !== undefined\n      ? deleteMemberDataToMemberList(parentIndex, index)\n      : deleteMemberDataToMemberList(index);\n  };\n\n  editDeleteMember = (type, index) => {\n    console.log(\"formIndex, index\", this.state.formIndex, index);\n    console.log(this.props.memberDetail);\n    if (type === \"edit\") {\n      this.setState({\n        dataObj: this.props.memberDetail[index],\n        formIndex: index,\n        toggleStatus: !this.state.toggleStatus\n      });\n    } else {\n      this.setState({ formIndex: index });\n      this.removeOrResetMember(index);\n    }\n  };\n\n  toggleMemberModel = () => {\n    this.setState({ toggleStatus: !this.state.toggleStatus });\n  };\n\n  render() {\n    const {\n      classes,\n      memberDetail,\n      dropDownListData,\n      addUpdateMemberDataToMemberList,\n      deleteMemberDataToMemberList,\n      tabHandleChange\n    } = this.props;\n    const { toggleStatus, dataObj, formIndex } = this.state;\n    console.log(\"^^^^^^^^^^^^^^^^^\", this.props.memberDetail);\n    return (\n      <Fragment>\n        {toggleStatus && (\n          <MemberModel\n            toggleStatus={toggleStatus}\n            toggleMemberModel={this.toggleMemberModel}\n            dataObj={dataObj}\n            formIndex={formIndex}\n            dropDownListData={dropDownListData}\n            addUpdateMemberDataToMemberList={addUpdateMemberDataToMemberList}\n            memberArrayLength={memberDetail.length}\n          />\n        )}\n        <Grid container>\n          <Grid item xs={12}>\n            <Grid container justify=\"flex-start\" alignItems=\"center\">\n              <Grid item xs={12} className={classes.pdLeft_16}>\n                <Grid container justify=\"space-between\" alignItems=\"flex-end\">\n                  <Grid item>\n                    <Typography align=\"left\" gutterBottom color=\"primary\">\n                      Member Detail\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Tooltip TransitionComponent={Zoom} title=\"Add\">\n                      <Button\n                        color=\"primary\"\n                        // variant=\"contained\"\n                        onClick={() => this.toggleMemberModel()}\n                      >\n                        Add Members\n                      </Button>\n                    </Tooltip>\n                  </Grid>\n                </Grid>\n                <Divider />\n              </Grid>\n              <Grid item xs={12}>\n                <Grid container className={classes.listViewContainer}>\n                  {memberDetail.length > 1 ? (\n                    memberDetail.map(\n                      (item, index) =>\n                        index !== 0 && (\n                          <Grid\n                            item\n                            xs={12}\n                            key={index}\n                            className={classes.pdLeft_16}\n                          >\n                            <Paper className={classes.paper}>\n                              <Grid container alignItems=\"center\">\n                                <Grid item md={10} xs={12}>\n                                  <RenderListComponent\n                                    dataObject={item}\n                                    eventName={\n                                      dropDownListData.eventList[0].Name\n                                    }\n                                  />\n                                </Grid>\n                                <Grid item md={2} xs={12}>\n                                  <Grid\n                                    container\n                                    justify=\"space-evenly\"\n                                    alignItems=\"center\"\n                                  >\n                                    <Grid item>\n                                      <Tooltip\n                                        TransitionComponent={Zoom}\n                                        title=\"Edit\"\n                                      >\n                                        <IconButton\n                                          aria-label=\"Delete\"\n                                          onClick={() =>\n                                            this.editDeleteMember(\"edit\", index)\n                                          }\n                                        >\n                                          <EditIcon fontSize=\"small\" />\n                                        </IconButton>\n                                      </Tooltip>\n                                    </Grid>\n\n                                    <Grid item>\n                                      <Tooltip\n                                        TransitionComponent={Zoom}\n                                        title=\"Remove\"\n                                      >\n                                        <IconButton\n                                          aria-label=\"Delete\"\n                                          onClick={() =>\n                                            this.editDeleteMember(\n                                              \"delete\",\n                                              index\n                                            )\n                                          }\n                                        >\n                                          <DeleteIcon fontSize=\"small\" />\n                                        </IconButton>\n                                      </Tooltip>\n                                    </Grid>\n                                  </Grid>\n                                </Grid>\n                              </Grid>\n                            </Paper>\n                          </Grid>\n                        )\n                    )\n                  ) : (\n                    <Grid item xs={12}>\n                      <Typography align=\"center\">No Members Found</Typography>\n                    </Grid>\n                  )}\n                </Grid>\n              </Grid>\n              {/* {memberDetail.map((item, index) => (\n                <Grid item xs={12} key={index}>\n                  <MemberForm\n                    dataObj={item}\n                    formIndex={index}\n                    dropDownListData={dropDownListData}\n                    addUpdateMemberDataToMemberList={\n                      addUpdateMemberDataToMemberList\n                    }\n                    deleteMemberDataToMemberList={deleteMemberDataToMemberList}\n                  />\n                </Grid>\n              ))} */}\n              <Grid item xs={12} style={{ paddingTop: \"32px\" }}>\n                <Grid container justify=\"center\">\n                  <Grid item style={{ padding: \"8px\" }}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={() => tabHandleChange(null, 0)}\n                    >\n                      Go Back\n                    </Button>\n                  </Grid>\n                  <Grid item style={{ padding: \"8px\" }}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      disabled={memberDetail.length == 1}\n                      onClick={() => this.saveFamilyMembersDetail()}\n                    >{`Save & Next`}</Button>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Fragment>\n    );\n  }\n\n}\n\n\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    memberDetail: state.member.memberList,\n    dropDownListData: state.dropDownList.dropDownListData\n      ? state.dropDownList.dropDownListData\n      : {}\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    { addUpdateMemberDataToMemberList, deleteMemberDataToMemberList,\n      saveFamilyMemberData },\n      dispatch\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(\n  connect(mapStateToProps, mapDispatchToProps)(Members)\n);\n"]},"metadata":{},"sourceType":"module"}