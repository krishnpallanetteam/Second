{"ast":null,"code":"import _regeneratorRuntime from\"/home/ulcom/Desktop/CommunityReact1/node_modules/@babel/runtime/regenerator\";import{ADD_MEMBER_DATA_TO_MEMBER_LIST,UPDATE_MEMBER_DATA_TO_MEMBER_LIST,DELETE_MEMBER_DATA_FROM_MEMBER_LIST}from\"./actionTypes\";import{axiosInstance}from\"../api/axiosConfig\";import produce from\"immer\";export var addUpdateMemberDataToMemberList=function addUpdateMemberDataToMemberList(memberIndex,dataObj){console.log(\"action\",memberIndex,dataObj);var data=[{firstName:dataObj.firstName,middleName:dataObj.middleName,lastName:dataObj.lastName,relation:dataObj.relation,bloodGroup:dataObj.bloodGroup,dateOfBirth:dataObj.dateOfBirth,studies:dataObj.studies,mobileNo:dataObj.mobileNo,gender:dataObj.gender,eventMember:dataObj.eventMember,aadhaarNo:dataObj.aadhaarNo,maritalStatus:dataObj.maritalStatus,zodiac:dataObj.zodiac,anniversaryDate:dataObj.maritalStatus.toLowerCase()===\"married\"?dataObj.anniversaryDate:\"\"}];return function(dispatch,getState){if(memberIndex===0){dispatch({type:ADD_MEMBER_DATA_TO_MEMBER_LIST,payload:{data:data}});}else{var allstate=getState();var memberList=allstate.member.memberList;memberList[memberIndex]=data[0];dispatch({type:UPDATE_MEMBER_DATA_TO_MEMBER_LIST,payload:{memberList:memberList}});}};};export var deleteMemberDataToMemberList=function deleteMemberDataToMemberList(memberIndex){console.log(memberIndex);return function(dispatch,getState){var allstate=getState();var memberList=allstate.member.memberList;memberList.splice(memberIndex,1);console.log(\"memberlist\",memberList);dispatch({type:DELETE_MEMBER_DATA_FROM_MEMBER_LIST,payload:{memberList:memberList}});};};export var saveFamilyMemberData=function saveFamilyMemberData(data){// console.log(\"action\", data);\nreturn function _callee(dispatch,getState){var stateData,familyDetail,response,responseData;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;stateData=getState();familyDetail={};familyDetail.familyId=stateData.family.basicDetail.familyId;familyDetail.memberDetail=data;_context.next=7;return _regeneratorRuntime.awrap(axiosInstance({url:\"saveFamilyMember\",method:\"post\",data:{family:familyDetail}}));case 7:response=_context.sent;if(!(response.status===200)){_context.next=13;break;}if(response.data.length>1&&response.data[0]){console.log(response);responseData=response.data[0][0];}return _context.abrupt(\"return\",response.data);case 13:if(!(response.status===404)){_context.next=17;break;}return _context.abrupt(\"return\",response);case 17:if(!(response.status===500)){_context.next=19;break;}return _context.abrupt(\"return\",response);case 19:_context.next=24;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",_context.t0);case 24:case\"end\":return _context.stop();}}},null,null,[[0,21]]);};};","map":{"version":3,"sources":["/home/ulcom/Desktop/CommunityReact1/src/action/memberAction.js"],"names":["ADD_MEMBER_DATA_TO_MEMBER_LIST","UPDATE_MEMBER_DATA_TO_MEMBER_LIST","DELETE_MEMBER_DATA_FROM_MEMBER_LIST","axiosInstance","produce","addUpdateMemberDataToMemberList","memberIndex","dataObj","console","log","data","firstName","middleName","lastName","relation","bloodGroup","dateOfBirth","studies","mobileNo","gender","eventMember","aadhaarNo","maritalStatus","zodiac","anniversaryDate","toLowerCase","dispatch","getState","type","payload","allstate","memberList","member","deleteMemberDataToMemberList","splice","saveFamilyMemberData","stateData","familyDetail","familyId","family","basicDetail","memberDetail","url","method","response","status","length","responseData"],"mappings":"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","sourcesContent":["import {\n  ADD_MEMBER_DATA_TO_MEMBER_LIST,\n  UPDATE_MEMBER_DATA_TO_MEMBER_LIST,\n  DELETE_MEMBER_DATA_FROM_MEMBER_LIST\n} from \"./actionTypes\";\nimport { axiosInstance } from \"../api/axiosConfig\";\nimport produce from \"immer\";\n\nexport const addUpdateMemberDataToMemberList = (memberIndex, dataObj) => {\n  console.log(\"action\", memberIndex, dataObj);\n  let data = [\n    {\n      firstName: dataObj.firstName,\n      middleName: dataObj.middleName,\n      lastName: dataObj.lastName,\n      relation: dataObj.relation,\n      bloodGroup: dataObj.bloodGroup,\n      dateOfBirth: dataObj.dateOfBirth,\n      studies: dataObj.studies,\n      mobileNo: dataObj.mobileNo,\n      gender: dataObj.gender,\n      eventMember: dataObj.eventMember,\n      aadhaarNo: dataObj.aadhaarNo,\n      maritalStatus: dataObj.maritalStatus,\n      zodiac: dataObj.zodiac,\n      anniversaryDate:\n        dataObj.maritalStatus.toLowerCase() === \"married\"\n          ? dataObj.anniversaryDate\n          : \"\"\n    }\n  ];\n  return (dispatch, getState) => {\n    if (memberIndex === 0) {\n      dispatch({\n        type: ADD_MEMBER_DATA_TO_MEMBER_LIST,\n        payload: { data }\n      });\n    } else {\n      let allstate = getState();\n      let memberList = allstate.member.memberList;\n      memberList[memberIndex] = data[0];\n      dispatch({\n        type: UPDATE_MEMBER_DATA_TO_MEMBER_LIST,\n        payload: { memberList }\n      });\n    }\n  };\n};\n\nexport const deleteMemberDataToMemberList = memberIndex => {\n  console.log(memberIndex);\n  return (dispatch, getState) => {\n    let allstate = getState();\n    let memberList = allstate.member.memberList;\n    memberList.splice(memberIndex, 1);\n    console.log(\"memberlist\", memberList);\n    dispatch({\n      type: DELETE_MEMBER_DATA_FROM_MEMBER_LIST,\n      payload: { memberList }\n    });\n  };\n};\n\n\nexport const saveFamilyMemberData = (data) => {\n  // console.log(\"action\", data);\n  return async (dispatch, getState) => {\n    try {\n\n      let stateData = getState();\n      var familyDetail = {};\n      familyDetail.familyId = stateData.family.basicDetail.familyId;\n      familyDetail.memberDetail = data; \n      const response = await axiosInstance({\n        url: \"saveFamilyMember\",\n        method: \"post\",\n        data: { family: familyDetail }\n      });\n      if (response.status === 200) {\n        if (response.data.length > 1 && response.data[0]) {\n            console.log(response);\n            let responseData = response.data[0][0];\n        }\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n};\n\n"]},"metadata":{},"sourceType":"module"}