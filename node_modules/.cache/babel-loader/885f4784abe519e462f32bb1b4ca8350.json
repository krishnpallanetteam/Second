{"ast":null,"code":"var _jsxFileName = \"/home/ulcom/Desktop/CommunityReact/src/forms/members.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { withStyles, Button, Typography, Divider, Paper } from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport { addUpdateMemberDataToMemberList, deleteMemberDataToMemberList, saveFamilyMemberData } from \"../action/memberAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MemberForm from \"./memberForm\";\nimport MemberModel from \"../model/memberModel\";\nimport RenderListComponent from \"../utils/renderListComponent\";\nimport { getFormattedDate } from \"../utils/commonUtils\";\nimport produce from \"immer\";\n\nconst styles = theme => ({\n  [theme.breakpoints.up(\"sm\")]: {\n    pdLeft_16: {\n      paddingLeft: theme.spacing(6),\n      paddingRight: theme.spacing(6)\n    }\n  },\n  [theme.breakpoints.down(\"sm\")]: {\n    pdLeft_16: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1)\n    }\n  },\n  listViewContainer: {\n    maxHeight: `calc(100vh - 64px - 48px - 16px - 16px - 121px - 8px)`,\n    overflowY: \"auto\"\n  },\n  paper: {\n    padding: \"8px\"\n  }\n});\n\nclass Members extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveFamilyMembersDetail = () => {\n      var memberDetail = this.props.memberDetail.filter(f => f.firstName != '');\n\n      map => {\n        if (map.dateOfBirth) {\n          map.dateOfBirthF = getFormattedDate(new Date(map.dateOfBirth));\n          map.anniversaryDateF = getFormattedDate(new Date(map.anniversaryDate));\n        }\n      };\n\n      debugger;\n      this.props.saveFamilyMemberData(memberDetail);\n    };\n\n    this.removeOrResetMember = index => {\n      const _this$props = this.props,\n            parentIndex = _this$props.parentIndex,\n            deleteMemberDataToMemberList = _this$props.deleteMemberDataToMemberList;\n      parentIndex !== undefined ? deleteMemberDataToMemberList(parentIndex, index) : deleteMemberDataToMemberList(index);\n    };\n\n    this.editDeleteMember = (type, index) => {\n      console.log(\"formIndex, index\", this.state.formIndex, index);\n      console.log(this.props.memberDetail);\n\n      if (type === \"edit\") {\n        this.setState({\n          dataObj: this.props.memberDetail[index],\n          formIndex: index,\n          toggleStatus: !this.state.toggleStatus\n        });\n      } else {\n        this.setState({\n          formIndex: index\n        });\n        this.removeOrResetMember(index);\n      }\n    };\n\n    this.toggleMemberModel = () => {\n      this.setState({\n        toggleStatus: !this.state.toggleStatus\n      });\n    };\n\n    this.state = {\n      toggleStatus: false,\n      dataObj: props.memberDetail[0],\n      formIndex: 0\n    };\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          classes = _this$props2.classes,\n          memberDetail = _this$props2.memberDetail,\n          dropDownListData = _this$props2.dropDownListData,\n          addUpdateMemberDataToMemberList = _this$props2.addUpdateMemberDataToMemberList,\n          deleteMemberDataToMemberList = _this$props2.deleteMemberDataToMemberList,\n          tabHandleChange = _this$props2.tabHandleChange;\n    const _this$state = this.state,\n          toggleStatus = _this$state.toggleStatus,\n          dataObj = _this$state.dataObj,\n          formIndex = _this$state.formIndex;\n    console.log(\"^^^^^^^^^^^^^^^^^\", this.props.memberDetail);\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, toggleStatus && React.createElement(MemberModel, {\n      toggleStatus: toggleStatus,\n      toggleMemberModel: this.toggleMemberModel,\n      dataObj: dataObj,\n      formIndex: formIndex,\n      dropDownListData: dropDownListData,\n      addUpdateMemberDataToMemberList: addUpdateMemberDataToMemberList,\n      memberArrayLength: memberDetail.length,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"flex-start\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      className: classes.pdLeft_16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"space-between\",\n      alignItems: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      align: \"left\",\n      gutterBottom: true,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Member Detail\")), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      TransitionComponent: Zoom,\n      title: \"Add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\" // variant=\"contained\"\n      ,\n      onClick: () => this.toggleMemberModel(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Add Members\")))), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      className: classes.listViewContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, memberDetail.length > 1 ? memberDetail.map((item, index) => index !== 0 && React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      key: index,\n      className: classes.pdLeft_16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 10,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(RenderListComponent, {\n      dataObject: item,\n      eventName: dropDownListData.eventList[0].Name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      md: 2,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"space-evenly\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      TransitionComponent: Zoom,\n      title: \"Edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"Delete\",\n      onClick: () => this.editDeleteMember(\"edit\", index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(EditIcon, {\n      fontSize: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })))), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      TransitionComponent: Zoom,\n      title: \"Remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"Delete\",\n      onClick: () => this.editDeleteMember(\"delete\", index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      fontSize: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })))))))))) : React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"No Members Found\")))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      style: {\n        paddingTop: \"32px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      style: {\n        padding: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => tabHandleChange(null, 0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Go Back\")), React.createElement(Grid, {\n      item: true,\n      style: {\n        padding: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: memberDetail.length == 1,\n      onClick: () => this.saveFamilyMembersDetail(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, `Save & Next`))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    memberDetail: state.member.memberList,\n    dropDownListData: state.dropDownList.dropDownListData ? state.dropDownList.dropDownListData : {}\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    addUpdateMemberDataToMemberList,\n    deleteMemberDataToMemberList,\n    saveFamilyMemberData\n  }, dispatch);\n};\n\nexport default withStyles(styles, {\n  withTheme: true\n})(connect(mapStateToProps, mapDispatchToProps)(Members));","map":{"version":3,"sources":["/home/ulcom/Desktop/CommunityReact/src/forms/members.js"],"names":["React","Component","Fragment","bindActionCreators","connect","Grid","withStyles","Button","Typography","Divider","Paper","Tooltip","Zoom","addUpdateMemberDataToMemberList","deleteMemberDataToMemberList","saveFamilyMemberData","IconButton","DeleteIcon","EditIcon","MemberForm","MemberModel","RenderListComponent","getFormattedDate","produce","styles","theme","breakpoints","up","pdLeft_16","paddingLeft","spacing","paddingRight","down","listViewContainer","maxHeight","overflowY","paper","padding","Members","constructor","props","saveFamilyMembersDetail","memberDetail","filter","f","firstName","map","dateOfBirth","dateOfBirthF","Date","anniversaryDateF","anniversaryDate","removeOrResetMember","index","parentIndex","undefined","editDeleteMember","type","console","log","state","formIndex","setState","dataObj","toggleStatus","toggleMemberModel","render","classes","dropDownListData","tabHandleChange","length","item","eventList","Name","paddingTop","mapStateToProps","member","memberList","dropDownList","mapDispatchToProps","dispatch","withTheme"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {\n  withStyles,\n  Button,\n  Typography,\n  Divider,\n  Paper\n} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport {\n  addUpdateMemberDataToMemberList,\n  deleteMemberDataToMemberList,saveFamilyMemberData\n} from \"../action/memberAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MemberForm from \"./memberForm\";\nimport MemberModel from \"../model/memberModel\";\nimport RenderListComponent from \"../utils/renderListComponent\";\nimport {getFormattedDate} from \"../utils/commonUtils\";\nimport produce from \"immer\";\n\nconst styles = theme => ({\n  [theme.breakpoints.up(\"sm\")]: {\n    pdLeft_16: {\n      paddingLeft: theme.spacing(6),\n      paddingRight: theme.spacing(6)\n    }\n  },\n  [theme.breakpoints.down(\"sm\")]: {\n    pdLeft_16: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1)\n    }\n  },\n  listViewContainer: {\n    maxHeight: `calc(100vh - 64px - 48px - 16px - 16px - 121px - 8px)`,\n    overflowY: \"auto\"\n  },\n  paper: {\n    padding: \"8px\"\n  }\n});\n\nclass Members extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      toggleStatus: false,\n      dataObj: props.memberDetail[0],\n      formIndex: 0\n    };\n  }\n\n   saveFamilyMembersDetail =() => {\n    \n    \n    var  memberDetail = this.props.memberDetail.filter(f=>f.firstName !='');\n    \n    \n    (map=>{\n      if (map.dateOfBirth) {\n        map.dateOfBirthF = getFormattedDate( new Date(map.dateOfBirth));\n        map.anniversaryDateF = getFormattedDate(new Date(map.anniversaryDate));\n      }\n    });\n    \n     debugger;\n     this.props.saveFamilyMemberData(memberDetail);\n\n  }\n\n  removeOrResetMember = index => {\n    const { parentIndex, deleteMemberDataToMemberList } = this.props;\n    parentIndex !== undefined\n      ? deleteMemberDataToMemberList(parentIndex, index)\n      : deleteMemberDataToMemberList(index);\n  };\n\n  editDeleteMember = (type, index) => {\n    console.log(\"formIndex, index\", this.state.formIndex, index);\n    console.log(this.props.memberDetail);\n    if (type === \"edit\") {\n      this.setState({\n        dataObj: this.props.memberDetail[index],\n        formIndex: index,\n        toggleStatus: !this.state.toggleStatus\n      });\n    } else {\n      this.setState({ formIndex: index });\n      this.removeOrResetMember(index);\n    }\n  };\n\n  toggleMemberModel = () => {\n    this.setState({ toggleStatus: !this.state.toggleStatus });\n  };\n\n  render() {\n    const {\n      classes,\n      memberDetail,\n      dropDownListData,\n      addUpdateMemberDataToMemberList,\n      deleteMemberDataToMemberList,\n      tabHandleChange\n    } = this.props;\n    const { toggleStatus, dataObj, formIndex } = this.state;\n    console.log(\"^^^^^^^^^^^^^^^^^\", this.props.memberDetail);\n    return (\n      <Fragment>\n        {toggleStatus && (\n          <MemberModel\n            toggleStatus={toggleStatus}\n            toggleMemberModel={this.toggleMemberModel}\n            dataObj={dataObj}\n            formIndex={formIndex}\n            dropDownListData={dropDownListData}\n            addUpdateMemberDataToMemberList={addUpdateMemberDataToMemberList}\n            memberArrayLength={memberDetail.length}\n          />\n        )}\n        <Grid container>\n          <Grid item xs={12}>\n            <Grid container justify=\"flex-start\" alignItems=\"center\">\n              <Grid item xs={12} className={classes.pdLeft_16}>\n                <Grid container justify=\"space-between\" alignItems=\"flex-end\">\n                  <Grid item>\n                    <Typography align=\"left\" gutterBottom color=\"primary\">\n                      Member Detail\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Tooltip TransitionComponent={Zoom} title=\"Add\">\n                      <Button\n                        color=\"primary\"\n                        // variant=\"contained\"\n                        onClick={() => this.toggleMemberModel()}\n                      >\n                        Add Members\n                      </Button>\n                    </Tooltip>\n                  </Grid>\n                </Grid>\n                <Divider />\n              </Grid>\n              <Grid item xs={12}>\n                <Grid container className={classes.listViewContainer}>\n                  {memberDetail.length > 1 ? (\n                    memberDetail.map(\n                      (item, index) =>\n                        index !== 0 && (\n                          <Grid\n                            item\n                            xs={12}\n                            key={index}\n                            className={classes.pdLeft_16}\n                          >\n                            <Paper className={classes.paper}>\n                              <Grid container alignItems=\"center\">\n                                <Grid item md={10} xs={12}>\n                                  <RenderListComponent\n                                    dataObject={item}\n                                    eventName={\n                                      dropDownListData.eventList[0].Name\n                                    }\n                                  />\n                                </Grid>\n                                <Grid item md={2} xs={12}>\n                                  <Grid\n                                    container\n                                    justify=\"space-evenly\"\n                                    alignItems=\"center\"\n                                  >\n                                    <Grid item>\n                                      <Tooltip\n                                        TransitionComponent={Zoom}\n                                        title=\"Edit\"\n                                      >\n                                        <IconButton\n                                          aria-label=\"Delete\"\n                                          onClick={() =>\n                                            this.editDeleteMember(\"edit\", index)\n                                          }\n                                        >\n                                          <EditIcon fontSize=\"small\" />\n                                        </IconButton>\n                                      </Tooltip>\n                                    </Grid>\n\n                                    <Grid item>\n                                      <Tooltip\n                                        TransitionComponent={Zoom}\n                                        title=\"Remove\"\n                                      >\n                                        <IconButton\n                                          aria-label=\"Delete\"\n                                          onClick={() =>\n                                            this.editDeleteMember(\n                                              \"delete\",\n                                              index\n                                            )\n                                          }\n                                        >\n                                          <DeleteIcon fontSize=\"small\" />\n                                        </IconButton>\n                                      </Tooltip>\n                                    </Grid>\n                                  </Grid>\n                                </Grid>\n                              </Grid>\n                            </Paper>\n                          </Grid>\n                        )\n                    )\n                  ) : (\n                    <Grid item xs={12}>\n                      <Typography align=\"center\">No Members Found</Typography>\n                    </Grid>\n                  )}\n                </Grid>\n              </Grid>\n              {/* {memberDetail.map((item, index) => (\n                <Grid item xs={12} key={index}>\n                  <MemberForm\n                    dataObj={item}\n                    formIndex={index}\n                    dropDownListData={dropDownListData}\n                    addUpdateMemberDataToMemberList={\n                      addUpdateMemberDataToMemberList\n                    }\n                    deleteMemberDataToMemberList={deleteMemberDataToMemberList}\n                  />\n                </Grid>\n              ))} */}\n              <Grid item xs={12} style={{ paddingTop: \"32px\" }}>\n                <Grid container justify=\"center\">\n                  <Grid item style={{ padding: \"8px\" }}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={() => tabHandleChange(null, 0)}\n                    >\n                      Go Back\n                    </Button>\n                  </Grid>\n                  <Grid item style={{ padding: \"8px\" }}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      disabled={memberDetail.length == 1}\n                      onClick={() => this.saveFamilyMembersDetail()}\n                    >{`Save & Next`}</Button>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Fragment>\n    );\n  }\n\n}\n\n\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    memberDetail: state.member.memberList,\n    dropDownListData: state.dropDownList.dropDownListData\n      ? state.dropDownList.dropDownListData\n      : {}\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    { addUpdateMemberDataToMemberList, deleteMemberDataToMemberList,\n      saveFamilyMemberData },\n      dispatch\n  );\n};\n\nexport default withStyles(styles, { withTheme: true })(\n  connect(mapStateToProps, mapDispatchToProps)(Members)\n);\n"]},"metadata":{},"sourceType":"module"}