{"ast":null,"code":"import { ADD_MEMBER_DATA_TO_MEMBER_LIST, UPDATE_MEMBER_DATA_TO_MEMBER_LIST, DELETE_MEMBER_DATA_FROM_MEMBER_LIST } from \"./actionTypes\";\nimport { axiosInstance } from \"../api/axiosConfig\";\nimport produce from \"immer\";\nexport const addUpdateMemberDataToMemberList = (memberIndex, dataObj) => {\n  console.log(\"action\", memberIndex, dataObj);\n  let data = [{\n    firstName: dataObj.firstName,\n    middleName: dataObj.middleName,\n    lastName: dataObj.lastName,\n    relation: dataObj.relation,\n    bloodGroup: dataObj.bloodGroup,\n    dateOfBirth: dataObj.dateOfBirth,\n    studies: dataObj.studies,\n    mobileNo: dataObj.mobileNo,\n    gender: dataObj.gender,\n    eventMember: dataObj.eventMember,\n    aadhaarNo: dataObj.aadhaarNo,\n    maritalStatus: dataObj.maritalStatus,\n    zodiac: dataObj.zodiac,\n    anniversaryDate: dataObj.maritalStatus.toLowerCase() === \"married\" ? dataObj.anniversaryDate : \"\"\n  }];\n  return (dispatch, getState) => {\n    if (memberIndex === 0) {\n      dispatch({\n        type: ADD_MEMBER_DATA_TO_MEMBER_LIST,\n        payload: {\n          data\n        }\n      });\n    } else {\n      let allstate = getState();\n      let memberList = allstate.member.memberList;\n      memberList[memberIndex] = data[0];\n      dispatch({\n        type: UPDATE_MEMBER_DATA_TO_MEMBER_LIST,\n        payload: {\n          memberList\n        }\n      });\n    }\n  };\n};\nexport const deleteMemberDataToMemberList = memberIndex => {\n  console.log(memberIndex);\n  return (dispatch, getState) => {\n    let allstate = getState();\n    let memberList = allstate.member.memberList;\n    memberList.splice(memberIndex, 1);\n    console.log(\"memberlist\", memberList);\n    dispatch({\n      type: DELETE_MEMBER_DATA_FROM_MEMBER_LIST,\n      payload: {\n        memberList\n      }\n    });\n  };\n};\nexport const saveFamilyMemberData = data => {\n  // console.log(\"action\", data);\n  return async (dispatch, getState) => {\n    try {\n      let stateData = getState();\n      var familyDetail = {};\n      familyDetail.familyId = stateData.family.basicDetail.familyId;\n      familyDetail.memberDetail = data;\n      const response = await axiosInstance({\n        url: \"saveFamilyMember\",\n        method: \"post\",\n        data: {\n          family: familyDetail\n        }\n      });\n\n      if (response.status === 200) {\n        if (response.data.length > 1 && response.data[0]) {\n          console.log(response);\n          let responseData = response.data[0][0];\n        }\n\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n};","map":{"version":3,"sources":["/home/ulcom/Desktop/CommunityReact/src/action/memberAction.js"],"names":["ADD_MEMBER_DATA_TO_MEMBER_LIST","UPDATE_MEMBER_DATA_TO_MEMBER_LIST","DELETE_MEMBER_DATA_FROM_MEMBER_LIST","axiosInstance","produce","addUpdateMemberDataToMemberList","memberIndex","dataObj","console","log","data","firstName","middleName","lastName","relation","bloodGroup","dateOfBirth","studies","mobileNo","gender","eventMember","aadhaarNo","maritalStatus","zodiac","anniversaryDate","toLowerCase","dispatch","getState","type","payload","allstate","memberList","member","deleteMemberDataToMemberList","splice","saveFamilyMemberData","stateData","familyDetail","familyId","family","basicDetail","memberDetail","response","url","method","status","length","responseData","error"],"mappings":"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","sourcesContent":["import {\n  ADD_MEMBER_DATA_TO_MEMBER_LIST,\n  UPDATE_MEMBER_DATA_TO_MEMBER_LIST,\n  DELETE_MEMBER_DATA_FROM_MEMBER_LIST\n} from \"./actionTypes\";\nimport { axiosInstance } from \"../api/axiosConfig\";\nimport produce from \"immer\";\n\nexport const addUpdateMemberDataToMemberList = (memberIndex, dataObj) => {\n  console.log(\"action\", memberIndex, dataObj);\n  let data = [\n    {\n      firstName: dataObj.firstName,\n      middleName: dataObj.middleName,\n      lastName: dataObj.lastName,\n      relation: dataObj.relation,\n      bloodGroup: dataObj.bloodGroup,\n      dateOfBirth: dataObj.dateOfBirth,\n      studies: dataObj.studies,\n      mobileNo: dataObj.mobileNo,\n      gender: dataObj.gender,\n      eventMember: dataObj.eventMember,\n      aadhaarNo: dataObj.aadhaarNo,\n      maritalStatus: dataObj.maritalStatus,\n      zodiac: dataObj.zodiac,\n      anniversaryDate:\n        dataObj.maritalStatus.toLowerCase() === \"married\"\n          ? dataObj.anniversaryDate\n          : \"\"\n    }\n  ];\n  return (dispatch, getState) => {\n    if (memberIndex === 0) {\n      dispatch({\n        type: ADD_MEMBER_DATA_TO_MEMBER_LIST,\n        payload: { data }\n      });\n    } else {\n      let allstate = getState();\n      let memberList = allstate.member.memberList;\n      memberList[memberIndex] = data[0];\n      dispatch({\n        type: UPDATE_MEMBER_DATA_TO_MEMBER_LIST,\n        payload: { memberList }\n      });\n    }\n  };\n};\n\nexport const deleteMemberDataToMemberList = memberIndex => {\n  console.log(memberIndex);\n  return (dispatch, getState) => {\n    let allstate = getState();\n    let memberList = allstate.member.memberList;\n    memberList.splice(memberIndex, 1);\n    console.log(\"memberlist\", memberList);\n    dispatch({\n      type: DELETE_MEMBER_DATA_FROM_MEMBER_LIST,\n      payload: { memberList }\n    });\n  };\n};\n\n\nexport const saveFamilyMemberData = (data) => {\n  // console.log(\"action\", data);\n  return async (dispatch, getState) => {\n    try {\n\n      let stateData = getState();\n      var familyDetail = {};\n      familyDetail.familyId = stateData.family.basicDetail.familyId;\n      familyDetail.memberDetail = data; \n      const response = await axiosInstance({\n        url: \"saveFamilyMember\",\n        method: \"post\",\n        data: { family: familyDetail }\n      });\n      if (response.status === 200) {\n        if (response.data.length > 1 && response.data[0]) {\n            console.log(response);\n            let responseData = response.data[0][0];\n        }\n        return response.data;\n      } else if (response.status === 404) {\n        return response;\n      } else if (response.status === 500) {\n        return response;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n};\n\n"]},"metadata":{},"sourceType":"module"}